<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <link rel="stylesheet" href="style.css">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</title>
<script type="module" src="firebase.js"></script>
<style>
body { font-family:Arial; background:#f0f4f8; padding:20px; }
.card { background:white; padding:20px; margin:15px 0; border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,0.1); }
img.ad-img { max-width:100%; border-radius:8px; margin-top:10px; }
</style>
</head>
<body>
<h2>Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h2>
<div id="adsContainer"></div>

<script type="module">
import { db } from './firebase.js';
import { collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

async function loadAds(){
  const container = document.getElementById("adsContainer");
  container.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...";
  const q = query(collection(db,"ads"), orderBy("date","desc"));
  const snapshot = await getDocs(q);
  container.innerHTML = "";

  snapshot.forEach(ad=>{
    const data = ad.data();
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `<b>${data.featured?'ğŸŒŸ Ø¥Ø¹Ù„Ø§Ù† Ù…Ù…ÙŠØ²':'Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†'}</b><br>
      <b>${data.type}</b><br>ğŸ“„ ${data.desc}<br>
      ${data.imageUrl?`<img src="${data.imageUrl}" class="ad-img">`:''}<br>
      <small>${data.date}</small>`;
    if(data.featured) container.prepend(div);
    else container.appendChild(div);
  });
}

loadAds();
</script>
</body>
</html>